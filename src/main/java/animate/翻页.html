<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>翻页切换效果</title>
    <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.0.0/animate.min.css"
    />
    <style>
        .contain{
            width: 700px;
            height: 700px;
            background: black;
            position: relative;
            margin-left: 200px;

        }
        #one{
            width: 700px;
            height: 700px;
            background: red;
            position:absolute;
            top: 0;
            left: 0;
            z-index: 10;

        }
        #two{
            width: 700px;
            height: 700px;
            background: yellow;
            position:absolute;
            top: 0;
            left: 0;
            /*animation-delay: 3s;*/
            z-index: 5;

        }
        #three{
            width: 700px;
            height: 700px;
            background: green;
            position:absolute;
            top: 0;
            left: 0;
            z-index: 1;
        }




    </style>
</head>
<body>

<div id="contain" class="contain" onmouseover="">
    <div id="one"></div>
    <div id="two"></div>
    <div id="three"></div>
</div>

<script>
    var imges=["one","two","three"];
    var cur=0;
    function changeImges(i) {
        document.getElementById(imges[i]).style.animation="fadeOutLeft 3s";
        document.getElementById(imges[i]).addEventListener("animationend",hide(i),false);
        hide(i);
        var next=i+1;
        if(next>imges.length-1){
            next=0;
            cur=0
        }
        else {;
            cur=i+1;
        }
        var elementById1 = document.getElementById(imges[next]);
        elementById1.style.opacity=1;
        elementById1.style.animation="fadeInRight 3s";
        document.getElementById(imges[i]).removeEventListener("animationend",hide(i),false);
        console.log(cur);
    }
    function hide(i){
        document.getElementById(imges[i]).style.opacity=0;
        console.log("我执行了")
    }
    //设立定时任务
    var timer = setInterval("changeImges(cur)",5000);
    var elementById = document.getElementById("contain");
    elementById.onmouseenter=function () {
        clearInterval(timer);
    }
    elementById.onmouseleave=function () {
       timer=setInterval("changeImges(cur)",5000);
    }
</script>

</body>
</html>